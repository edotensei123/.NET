@using System.Globalization
@model ShopCartViewModel


<style>     <!--CSS стиль-->
    .tbl-img
    {
        width: 100%;
        max-width: 150px !important;
    }

    .container
    {
        margin-top: 50px;
        margin-bottom: 100px;
    }

    .container {
  padding: 2rem 0rem;
}

    h4 {
    margin: 2rem 0rem 1rem;
}

    img {
        margin-top: 5px;
        margin-bottom: 5x;
  }

    .table-img-delete
       {
         margin-top: 7px;
       }

</style>

<div class="container offset-3">
    <h3 class="text-light g-3">Корзина</h3>
    @if (Model.shopCart.ListShopItems.Count() == 0)
    {
        <p class="text-light">Корзина пока что пуста</p>
    }
    else
    {

    <div class="row">
    <div class="col-8">
		<table class="table"> 

  <thead>
    <tr>
      <th scope="col"> </th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
      <th scope="col"> </th>
    </tr>
  </thead>

		  <tbody>
        


        @foreach (var el in Model.shopCart.ListShopItems)
        {         
                <tr>

		      <td class="w-25">
			     <div id="tbl-img"><img class="tbl-img rounded shadow-sm" src="@el.Game.Image" alt="@el.Game.Name" style="max-width: 300px"/></div>
		      </td>

		      <td class="align-middle"><p class="price text-light text-center">@el.Game.Name </p></td>
		      <td class="align-middle"><p class="text-light text-center">@el.Game.Price.ToString("c", new CultureInfo("ru-RU"))</td>
              <td align="right"><a asp-controller="ShopCart" asp-action="deleteFromCart" asp-route-id="@el.Id"><img class="table-img-delete" src="/icons/x-lg.svg" alt="Delete" width="21" height="21"></a></td>    <!--cross icon for deleting the item from ShopCart-->
		    </tr>
        }
        		  </tbody>
		</table>  
        <h5 class="alert alert-dark text-dark">Итого: @Model.shopCart.InTotal.ToString("c", new CultureInfo("ru-RU"))</h5> <!--show total price-->
        <hr />
    <a class="btn btn-success" href="/Order/Checkout">Оплатить</a>  <!--go to Checkout-->
        </div>
  </div>
    }

